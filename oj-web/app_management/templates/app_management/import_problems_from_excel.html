{% extends "app_management/base_management.html" %}
{% block page_title %}
  匯入題目
{% endblock page_title %}

{% comment %} {% block messages_block %}
  {% if messages %}
    <div class="row mt-3">
      <div class="col-12">
        {% for message in messages %}
          <div class="alert alert-{{ message.tags }} alert-dismissible persistent-alert" role="alert">
            {% if message.tags == 'success' %}
              <i class="fas fa-check-circle me-2"></i>
            {% else %}
              <i class="fas fa-exclamation-triangle me-2"></i>
            {% endif %}
            {{ message|safe }}
            <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
          </div>
        {% endfor %}
      </div>
    </div>
  {% endif %}
{% endblock messages_block %} {% endcomment %}

{% block page_content %}
  <h3>匯入題目(格式若無id欄位則新增一筆，否則會取代原有題號題目)</h3>
  <label>
    匯入考題之前，必須先將Language與Problem category兩個表格先匯入，否則匯入的考題會不完整!
  </label>
  <div class="col-6 mt-2">
    <form method="post" enctype="multipart/form-data">
      {% csrf_token %}
      <input type="file" name="excel_file" class="form-control">
      <div class="row mt-2">
        <div class="col-sm-12">
          <button type="submit" class="btn btn-sm btn-primary">確定匯入</button>
        </div>
      </div>
    </form>
  </div>

  {% if messages %}
    <div class="row mt-3">
      <div class="col-12">
        {% for message in messages %}
          <div class="alert alert-{{ message.tags }} alert-dismissible persistent-alert" role="alert">
            {% if message.tags == 'success' %}
              <i class="fas fa-check-circle me-2"></i>
            {% else %}
              <i class="fas fa-exclamation-triangle me-2"></i>
            {% endif %}
            {{ message|safe }}
            <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
          </div>
        {% endfor %}
      </div>
    </div>
  {% endif %}

{% endblock page_content %}
{% block script_block %}
{% endblock script_block %}
