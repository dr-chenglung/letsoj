{% extends "app_oj/base.html" %}
{% block page_title %}
    我的競賽積分
{% endblock page_title %}
{% block page_content %}

<!--  參加的公開比賽   -->
    <h3 class="text-primary">我的競賽積分</h3>
    {% if contests_info %}
        <table class="table table-striped">
            <thead>
                <tr>
                    <th scope="col">序號</th>
                    <th scope="col">名稱</th>
                    <th scope="col">得分(完成度％)</th>
                    <th scope="col">總題數</th>
                    <th scope="col">提交成功題數</th>
                    <th scope="col">提交總次數</th>
                    <th scope="col">排名</th>
                    <th scope="col">平均每題完成時間(分鐘)</th>
                </tr>
            </thead>
            <tbody>
                {% for contest_info in contests_info %}
                    <tr>
                        <td>{{ forloop.counter }}</td>
                        <td>{{ contest_info.contest.title }}</td>
                        <td>
                            {% if contest_info.score == "未參加" %}
                            <span class="badge bg-warning">{{ contest_info.score }}</span>
                            {% else %}
                                <span class="badge bg-success">{{ contest_info.score }}</span>
                            {% endif %}
                        </td>
                        <td>{{ contest_info.problem_count }}</td>
                        <td>{{ contest_info.accepted_count }}</td>
                        <td>{{ contest_info.submission_count }}</td>
                        <td>{{ contest_info.user_rank }}</td>
                        <td>{{ contest_info.average_time }}</td>
                    </tr>
                {% endfor %}
            </tbody>
        </table>
    {% else %}
        <div class="alert alert-info" role="alert">
            尚未參加比賽！
        </div>
    {% endif %}
{% endblock page_content %}